$(function(){var q=$("#uname"),c=$("#cpass"),b=$("#npass"),d=$("#rnpass"),a=$("#nuname"),r=$("#submit"),s=$("#uid");$("#prof_form");var h=$("#pass_err"),k=$("#pass_pat"),e=$("#pass_diff"),l=$("#pass_empty"),m=$("#name_emp"),n=$("#not_uniq"),f=$("#pass_wrong"),p=$("#pass_match");b.tooltip();a.focusin(function(){n.addClass("hidden");m.addClass("hidden")});a.focusout(function(){""===a.val()&&m.removeClass("hidden");a.siblings(".glyphicon").hasClass("glyphicon-remove")&&n.removeClass("hidden")});a.keyup(function(){""!==
a.val()&&a.val()!==q.val()?$.ajax({url:"/assets/components/php/process-register.php",type:"POST",dataType:"json",data:{uname:a.val()},cache:!1,success:function(b){!0===b.present?(a.parent().parent().removeClass("has-success"),a.parent().parent().addClass("has-error"),a.siblings(".glyphicon").removeClass("glyphicon-ok"),a.siblings(".glyphicon").addClass("glyphicon-remove")):(a.parent().parent().removeClass("has-error"),a.parent().parent().addClass("has-success"),a.siblings(".glyphicon").removeClass("glyphicon-remove"),
a.siblings(".glyphicon").addClass("glyphicon-ok"))},error:function(){}}):(a.parent().parent().removeClass("has-success"),a.parent().parent().removeClass("has-error"),a.siblings(".glyphicon").removeClass("glyphicon-ok"),a.siblings(".glyphicon").removeClass("glyphicon-remove"))});var g=!1;c.on("focusin keypress",function(){h.addClass("hidden");e.addClass("hidden");f.addClass("hidden")});c.keyup(function(){if(""!==c.val()){""!==b.val()&&b.val()===c.val()&&e.removeClass("hidden");var a={id:s.val(),pass:c.val()};
$.ajax({url:"/assets/components/php/process-profile.php",type:"POST",dataType:"json",data:a,cache:!1,success:function(a){!0===a.checked&&(g=!0)},error:function(){}})}});b.on("focusin keypress",function(){k.addClass("hidden");e.addClass("hidden");l.addClass("hidden")});b.focusout(function(){""!==b.val()&&(""!==c.val()&&c.val()===b.val()&&e.removeClass("hidden"),!1===/((?=.*\d)+(?=.*[a-z])+(?=.*[A-Z])+(?=.*[!@#$%><?^&*+-])+){8,20}/.test(b.val())&&k.removeClass("hidden"))});d.on("focusin keypress",function(){p.addClass("hidden")});
d.focusout(function(){""!==d.val()&&""!==b.val()&&d.val()!==b.val()&&p.removeClass("hidden")});r.click(function(){if(""===a.val())return m.removeClass("hidden"),!1;if(a.siblings(".glyphicon").hasClass("glyphicon-remove"))return n.removeClass("hidden"),!1;if(c.val()&&!g)return f.removeClass("hidden"),!1;if(""!==b.val())return/((?=.*\d)+(?=.*[a-z])+(?=.*[A-Z])+(?=.*[!@#$%><?^&*+-])+){8,20}/.test(b.val())?""===d.val()||b.val()!==d.val()?(p.removeClass("hidden"),!1):""===c.val()?(h.removeClass("hidden"),
!1):g?b.val()===c.val()?(e.removeClass("hidden"),!1):!0:(f.removeClass("hidden"),!1):(k.removeClass("hidden"),!1);if(q.val()!==a.val())return""===c.val()?(h.removeClass("hidden"),!1):g?""!==d.val()?(l.removeClass("hidden"),!1):!0:(f.removeClass("hidden"),!1);if(""!==d.val())return l.removeClass("hidden"),!1;$("#no_update").modal();return!1});$(".alert").fadeOut(3E3)});
